let version='0.3.21';var index=({r:t,l:e,mount:n,headless:r,Component:s},a = {})=>{let o=(a.baseUrl||'').replace(/\/$/,''),u=a.dummy&&(a.dummyData||{}),i=(t,e,n)=>{setTimeout(()=>{n(u[t]&&u[t][e]||null)},a.dummyTimeout||100)},d=function(t,e,n,r,s){this.url=e;this.id=e+'';this.type=t;this.start=()=>s.start(this.id);this.end=()=>s.end(this.id);this.http=new XMLHttpRequest;this.headers=Object.assign(a.headers,r);this.params=JSON.stringify(n);this.resolve=()=>{this.end()};this.reject=t=>{console.error('[Radi Fetch] WARN: Request caught an error.\n',t),this.end()};let u=e.split('?').length-1;if(t==='get')for(let t in n)e=e.concat((!u?'?':'&')+t+'='+n[t]),u+=1;this.http.open(t,o+e,!0);for(let t in this.headers)this.http.setRequestHeader(t,this.headers[t]);this.abort=(...t)=>this.http.abort(...t);this.tag=t=>(this.id=t, this)};d.prototype.catch=function(t){typeof t==='function'&&(this.reject=(...e)=>{t(...e),this.end()});return this};d.prototype.then=function(t,e){this.start();this.resolve=(...e)=>{t(...e),this.end()};typeof e==='function'&&(this.reject=(...t)=>{e(...t),this.end()});if(u){i(this.type,this.url,t=>{this.resolve({headers:'',status:'dummy',response:JSON.stringify(t),text:()=>JSON.stringify(t),json:()=>t})});return this}let n=this;this.http.onreadystatechange=function(t){let e=this;if(e.readyState===XMLHttpRequest.DONE){let t={headers:n.http.getAllResponseHeaders(),status:e.status,response:e.response};e.status===200?(t.text=function(){return e.responseText},t.json=function(){try{return JSON.parse(this.text())}catch(t){console.error('[Radi Fetch] WARN: Response is not JSON, using fallback to empty JSON.\n',t);return{}}},n.resolve(t)):n.reject(t)}};this.http.send(this.params);return this};class c extends s{get(t,e,n){return new d('get',t,e,n,this.$loading)}post(t,e,n){return new d('post',t,e,n)}put(t,e,n){return new d('put',t,e,n)}delete(t,e,n){return new d('delete',t,e,n)}options(t,e,n){return new d('options',t,e,n)}head(t,e,n){return new d('head',t,e,n)}}class p extends s{state(){return{$any:!1,$count:0}}start(t){if(this.state[t])return!1;this.setState({[t]:!0,$count:this.state.$count+1,$any:!!(this.state.$count+1)})}end(t){this.setState({[t]:!1,$count:this.state.$count-1,$any:!!(this.state.$count-1)})}run(t,e){if(this.state[t])return!1;this.start(t);e(e=>{typeof e==='function'&&e(),this.end(t)})}}r('loading',p);r('fetch',c);return{config:a,Fetch:c}};export default index;export { version }